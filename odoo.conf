[options]
; Admin password to create databases
admin_passwd = admin

; Database connection
db_host = db
db_port = 5432
db_user = odoo
db_password = odoo

; Addons paths
addons_path = /mnt/extra-addons/auto,/mnt/extra-addons/custom,/mnt/extra-addons/enterprise,/mnt/extra-addons/community,/usr/lib/python3/dist-packages/odoo/addons

; --- Performance Tuning ---
; t3.medium -> 2 vCPUs, 4 GB RAM
; rule of thumb: workers = (cores * 2) + 1
workers = 5
longpolling_port = 8072

; Memory limits (bytes)
; 512MB soft / 640MB hard per worker
limit_memory_soft = 536870912
limit_memory_hard = 671088640

; Request/time limits
limit_request = 8192
limit_time_cpu = 60
limit_time_real = 120

; Cron threads
max_cron_threads = 2

; Logging
log_level = info

; Proxy mode (for Nginx)
proxy_mode = True

; CSV/Import/Export
csv_internal_sep = ,

; Database connection pool
db_maxconn = 32